// ‡¶õ‡¶æ‡¶§‡ßç‡¶∞‡¶¶‡ßá‡¶∞ ‡¶°‡ßá‡¶ü‡¶æ
const students = [
    {
        "name": "‡¶∞‡¶æ‡¶π‡ßÅ‡¶≤ ‡¶π‡¶æ‡¶∏‡¶æ‡¶®",
        "roll": "101",
        "registration": "2023001",
        "department": "‡¶ï‡¶Æ‡ßç‡¶™‡¶ø‡¶â‡¶ü‡¶æ‡¶∞",
        "image": "images/1.png",
        "mobile": "01711111111"
    },
    {
        "name": "‡¶∏‡¶æ‡¶Æ‡¶ø‡ßü‡¶æ ‡¶á‡¶∏‡¶≤‡¶æ‡¶Æ",
        "roll": "102",
        "registration": "2023002",
        "department": "‡¶á‡¶≤‡ßá‡¶ï‡¶ü‡ßç‡¶∞‡¶ø‡¶ï‡ßç‡¶Ø‡¶æ‡¶≤",
        "image": "images/2.png",
        "mobile": "01822222222"
    },
    {
        "name": "‡¶Æ‡¶æ‡¶∏‡ßÅ‡¶Æ ‡¶¨‡¶ø‡¶≤‡ßç‡¶≤‡¶æ‡¶π",
        "roll": "103",
        "registration": "2023003",
        "department": "‡¶∏‡¶ø‡¶≠‡¶ø‡¶≤",
        "image": "images/3.png",
        "mobile": "01933333333"
    },
    {
        "name": "‡¶®‡¶æ‡¶π‡¶ø‡¶¶‡¶æ ‡¶™‡¶æ‡¶∞‡¶≠‡ßÄ‡¶®",
        "roll": "104",
        "registration": "2023004",
        "department": "‡¶Æ‡ßá‡¶ï‡¶æ‡¶®‡¶ø‡¶ï‡ßç‡¶Ø‡¶æ‡¶≤",
        "image": "images/4.png",
        "mobile": "01644444444"
    },
    {
        "name": "‡¶∏‡¶æ‡¶ú‡¶ø‡¶¶ ‡¶∞‡¶π‡¶Æ‡¶æ‡¶®",
        "roll": "105",
        "registration": "2023005",
        "department": "‡¶Ü‡¶∞‡ßç‡¶ï‡¶ø‡¶ü‡ßá‡¶ï‡¶ö‡¶æ‡¶∞",
        "image": "images/5.png",
        "mobile": "01555555555"
    },
    {
        "name": "‡¶∏‡¶æ‡¶ú‡¶ø‡¶¶ ‡¶∞‡¶π‡¶Æ‡¶æ‡¶®",
        "roll": "106",
        "registration": "2023005",
        "department": "‡¶Ü‡¶∞‡ßç‡¶ï‡¶ø‡¶ü‡ßá‡¶ï‡¶ö‡¶æ‡¶∞",
        "image": "images/5.png",
        "mobile": "01555555555"
    },
    {
        "name": "‡¶∏‡¶æ‡¶ú‡¶ø‡¶¶ ‡¶∞‡¶π‡¶Æ‡¶æ‡¶®",
        "roll": "107",
        "registration": "2023005",
        "department": "‡¶Ü‡¶∞‡ßç‡¶ï‡¶ø‡¶ü‡ßá‡¶ï‡¶ö‡¶æ‡¶∞",
        "image": "images/5.png",
        "mobile": "01555555555"
    },
    {
        "name": "‡¶∏‡¶æ‡¶ú‡¶ø‡¶¶ ‡¶∞‡¶π‡¶Æ‡¶æ‡¶®",
        "roll": "108",
        "registration": "2023005",
        "department": "‡¶Ü‡¶∞‡ßç‡¶ï‡¶ø‡¶ü‡ßá‡¶ï‡¶ö‡¶æ‡¶∞",
        "image": "images/5.png",
        "mobile": "01555555555"
    },
    {
        "name": "‡¶∏‡¶æ‡¶ú‡¶ø‡¶¶ ‡¶∞‡¶π‡¶Æ‡¶æ‡¶®",
        "roll": "109",
        "registration": "2023005",
        "department": "‡¶Ü‡¶∞‡ßç‡¶ï‡¶ø‡¶ü‡ßá‡¶ï‡¶ö‡¶æ‡¶∞",
        "image": "images/5.png",
        "mobile": "01555555555"
    },
    {
        "name": "‡¶∏‡¶æ‡¶ú‡¶ø‡¶¶ ‡¶∞‡¶π‡¶Æ‡¶æ‡¶®",
        "roll": "110",
        "registration": "2023005",
        "department": "‡¶Ü‡¶∞‡ßç‡¶ï‡¶ø‡¶ü‡ßá‡¶ï‡¶ö‡¶æ‡¶∞",
        "image": "images/5.png",
        "mobile": "01555555555"
    },
    {
        "name": "‡¶∏‡¶æ‡¶ú‡¶ø‡¶¶ ‡¶∞‡¶π‡¶Æ‡¶æ‡¶®",
        "roll": "111",
        "registration": "2023005",
        "department": "‡¶Ü‡¶∞‡ßç‡¶ï‡¶ø‡¶ü‡ßá‡¶ï‡¶ö‡¶æ‡¶∞",
        "image": "images/5.png",
        "mobile": "01555555555"
    },
    {
        "name": "‡¶∏‡¶æ‡¶ú‡¶ø‡¶¶ ‡¶∞‡¶π‡¶Æ‡¶æ‡¶®",
        "roll": "112",
        "registration": "2023005",
        "department": "‡¶Ü‡¶∞‡ßç‡¶ï‡¶ø‡¶ü‡ßá‡¶ï‡¶ö‡¶æ‡¶∞",
        "image": "images/5.png",
        "mobile": "01555555555"
    },
    {
        "name": "‡¶∏‡¶æ‡¶ú‡¶ø‡¶¶ ‡¶∞‡¶π‡¶Æ‡¶æ‡¶®",
        "roll": "113",
        "registration": "2023005",
        "department": "‡¶Ü‡¶∞‡ßç‡¶ï‡¶ø‡¶ü‡ßá‡¶ï‡¶ö‡¶æ‡¶∞",
        "image": "images/5.png",
        "mobile": "01555555555"
    },
    {
        "name": "‡¶∏‡¶æ‡¶ú‡¶ø‡¶¶ ‡¶∞‡¶π‡¶Æ‡¶æ‡¶®",
        "roll": "114",
        "registration": "2023005",
        "department": "‡¶Ü‡¶∞‡ßç‡¶ï‡¶ø‡¶ü‡ßá‡¶ï‡¶ö‡¶æ‡¶∞",
        "image": "images/5.png",
        "mobile": "01555555555"
    },
    {
        "name": "‡¶∏‡¶æ‡¶ú‡¶ø‡¶¶ ‡¶∞‡¶π‡¶Æ‡¶æ‡¶®",
        "roll": "115",
        "registration": "2023005",
        "department": "‡¶Ü‡¶∞‡ßç‡¶ï‡¶ø‡¶ü‡ßá‡¶ï‡¶ö‡¶æ‡¶∞",
        "image": "images/5.png",
        "mobile": "01555555555"
    }
];

// ‡¶õ‡¶æ‡¶§‡ßç‡¶∞‡¶¶‡ßá‡¶∞ ‡¶§‡¶æ‡¶≤‡¶ø‡¶ï‡¶æ ‡¶¶‡ßá‡¶ñ‡¶æ‡¶®‡ßã‡¶∞ ‡¶´‡¶æ‡¶Ç‡¶∂‡¶®
function renderStudents(filter = '') {
    const list = document.getElementById('studentList');
    if (list) {
        list.innerHTML = '';
        students
            .filter(s =>
                s.name.toLowerCase().includes(filter.toLowerCase()) ||
                s.roll.includes(filter) ||
                s.registration.includes(filter) ||
                s.mobile.includes(filter)
            )
            .forEach(student => {
                const card = document.createElement('div');
                card.className = 'card';
                card.innerHTML = `
                    <img src="${student.image}" alt="Student" style="width:100px; height:100px; object-fit:cover; border-radius:50%;">
                    <h3>${student.name}</h3>
                    <p>‡¶∞‡ßã‡¶≤: ${student.roll}</p>
                `;
                card.onclick = () => {
                    localStorage.setItem('student', JSON.stringify(student));
                    window.location.href = 'details.html';
                };
                list.appendChild(card);
            });
    }
}

// ‡¶õ‡¶æ‡¶§‡ßç‡¶∞‡ßá‡¶∞ ‡¶°‡¶ø‡¶ü‡ßá‡¶á‡¶≤‡¶∏ ‡¶¶‡ßá‡¶ñ‡¶æ‡¶®‡ßã‡¶∞ ‡¶´‡¶æ‡¶Ç‡¶∂‡¶®
function renderStudentDetails() {
    const student = JSON.parse(localStorage.getItem('student'));
    const container = document.getElementById('studentDetails');
    if (student && container) {
        container.innerHTML = `
            <img src="${student.image}" alt="Student">
            <h2>${student.name}</h2>
            <p><span>‡¶∞‡ßã‡¶≤:</span> ${student.roll}</p>
            <p><span>‡¶∞‡ßá‡¶ú‡¶ø‡¶∏‡ßç‡¶ü‡ßç‡¶∞‡ßá‡¶∂‡¶®:</span> ${student.registration}</p>
            <p><span>‡¶¨‡¶ø‡¶≠‡¶æ‡¶ó:</span> ${student.department}</p>
            <p><span>‡¶Æ‡ßã‡¶¨‡¶æ‡¶á‡¶≤:</span> <a href="tel:${student.mobile}" class="call-button" target="_blank">üìû ${student.mobile}</a></p>

        `;
    }
}

// ‡¶∏‡¶æ‡¶∞‡ßç‡¶ö ‡¶á‡¶®‡¶™‡ßÅ‡¶ü ‡¶π‡ßç‡¶Ø‡¶æ‡¶®‡ßç‡¶°‡ßá‡¶≤‡¶ø‡¶Ç
document.addEventListener("DOMContentLoaded", function () {
    const searchInput = document.getElementById('searchInput');
    if (searchInput) {
        searchInput.addEventListener('input', e => {
            renderStudents(e.target.value);
        });
    }

    // ‡¶ï‡ßã‡¶® ‡¶™‡ßá‡¶ú‡ßá ‡¶Ü‡¶õ‡¶ø ‡¶¶‡ßá‡¶ñ‡ßá function ‡¶ï‡¶≤
    if (document.getElementById('studentList')) {
        renderStudents();
    } else if (document.getElementById('studentDetails')) {
        renderStudentDetails();
    }
});
